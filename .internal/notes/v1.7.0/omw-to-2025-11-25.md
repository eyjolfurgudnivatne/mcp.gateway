# ğŸš€ MCP Gateway v1.7.0 - Road to 2025-11-25 Compliance

**Created:** 16. desember 2025  
**Branch:** feat/v1.7.0-to-2025-11-25  
**Target:** Full MCP Protocol 2025-11-25 Compliance  
**Current Version:** v1.6.0 (Protocol 2025-06-18)  
**Target Version:** v1.7.0 (Protocol 2025-11-25)

---

## ğŸ“Š Executive Summary

### Current Status (v1.6.0)
- âœ… **Protocol Version:** 2025-06-18 (outdated by 5 months!)
- âœ… **Tools:** Full support (with pagination v1.6.0)
- âœ… **Prompts:** Full support (with pagination v1.6.0)
- âœ… **Resources:** Full support (with pagination v1.6.0)
- âš ï¸ **Notifications:** WebSocket-only (not MCP 2025-11-25 compliant)
- âŒ **Streamable HTTP:** Not implemented (v1.6.0 uses old HTTP+SSE pattern)
- âŒ **Session Management:** Not implemented
- âŒ **Protocol Version Header:** Not validated

### Current Status (v1.6.5-in-progress)
- â³ **Protocol Version:** Upgrading to 2025-11-25
- âœ… **Tools:** Full support (with pagination v1.6.0, icons v1.6.5)
- âœ… **Prompts:** Full support (with pagination v1.6.0, icons v1.6.5)
- âœ… **Resources:** Full support (with pagination v1.6.0, icons v1.6.5)
- âœ… **Icons:** Full support (v1.6.5, completed 16. des 2025)
- âœ… **Tool Names:** Dot support (already in v1.6.0)
- â³ **Structured Content:** TODO (v1.6.5)
- â³ **Output Schema:** TODO (v1.6.5)
- âš ï¸ **Notifications:** WebSocket-only (not MCP 2025-11-25 compliant)
- âŒ **Streamable HTTP:** Not implemented (v1.6.0 uses old HTTP+SSE pattern)
- âŒ **Session Management:** Not implemented
- âŒ **Protocol Version Header:** Not validated

### Gap to 2025-11-25
**Major gaps:**
1. ğŸ”´ **Streamable HTTP transport** - Complete rewrite required
2. ğŸ”´ **SSE-based notifications** - Migrate from WebSocket to SSE
3. ğŸŸ¡ **Session Management** - `MCP-Session-Id` header support
4. ğŸŸ¡ **Protocol Version Header** - `MCP-Protocol-Version` validation
5. ğŸŸ¡ **Lifecycle improvements** - `initialized` notification, better handshake

**Minor gaps (mostly done!):**
- âœ… **Icons support** - DONE (v1.6.5, 16. des 2025)
- âœ… **Tool names with dots** - DONE (already supported in v1.6.0)
- â³ **Structured content** - TODO (v1.6.5)
- â³ **Output schema** - TODO (v1.6.5)

**Estimated effort:** ~~3-4 uker (60-80 timer)~~ â†’ **Revised: 3 uker (56-72 timer)** (icons saved 15-23 timer!)

---

## ğŸ“‹ Detailed Gap Analysis

### âœ… What We Already Have (v1.6.0)

#### 1. Core Protocol Features
- âœ… JSON-RPC 2.0 over HTTP POST
- âœ… stdio transport (newline-delimited)
- âœ… WebSocket transport (full-duplex)
- âœ… SSE endpoint (`/sse`) - BUT not MCP 2025-11-25 compliant!
- âœ… `initialize` / `tools/list` / `tools/call`
- âœ… `prompts/list` / `prompts/get` (v1.4.0)
- âœ… `resources/list` / `resources/read` (v1.5.0)
- âœ… Cursor-based pagination (v1.6.0)
- âœ… Notification infrastructure (WebSocket-only, v1.6.0)

#### 2. Tool Support
- âœ… `[McpTool]` attribute with auto-naming (v1.1.0)
- âœ… Transport-aware filtering (v1.2.0)
- âœ… `TypedJsonRpc<T>` with schema generation (v1.3.0)
- âœ… Tool capabilities (Standard, TextStreaming, BinaryStreaming)
- âœ… Pagination support (v1.6.0)
- âœ… `notifications/tools/list_changed` (v1.6.0, WebSocket-only)

#### 3. Prompt Support
- âœ… `[McpPrompt]` attribute (v1.4.0)
- âœ… `PromptRole` (system, user, assistant)
- âœ… Pagination support (v1.6.0)
- âœ… `notifications/prompts/list_changed` (v1.6.0, WebSocket-only)

#### 4. Resource Support
- âœ… `[McpResource]` attribute (v1.5.0)
- âœ… Text and binary content (`ResourceContent`)
- âœ… URI schemes (file://, db://, system://, http://)
- âœ… Pagination support (v1.6.0)
- âœ… `notifications/resources/updated` (v1.6.0, WebSocket-only)

---

### ğŸ”´ What We're Missing (Critical for 2025-11-25)

#### 1. Streamable HTTP Transport (BLOCKER!)

**Current implementation (v1.6.0):**
```csharp
// Old pattern (ikke MCP 2025-11-25 compliant):
app.MapHttpRpcEndpoint("/rpc");  // HTTP POST only
app.MapSseRpcEndpoint("/sse");   // Separate SSE endpoint
app.MapWsRpcEndpoint("/ws");     // WebSocket endpoint
```

**MCP 2025-11-25 requirement:**
- **Single MCP endpoint** that handles BOTH POST and GET
- **POST** = Send JSON-RPC to server (request/response/notification)
- **GET** = Open SSE stream for serverâ†’client messages
- **SSE streams** can be:
  - Short-lived (one response, then close)
  - Long-lived (multiple messages, then close)
  - **Pollable** (server closes prematurely, client reconnects with `Last-Event-ID`)

**Key differences:**
| Feature | v1.6.0 (Old) | 2025-11-25 (New) |
|---------|--------------|------------------|
| Endpoint pattern | `/rpc` (POST), `/sse` (GET) | **Single endpoint** (POST + GET) |
| SSE usage | Always long-lived | **Short-lived with polling** |
| Resumability | Not supported | **Event IDs + `Last-Event-ID`** |
| Session management | Not supported | **`MCP-Session-Id` header** |
| Protocol version | Implicit | **`MCP-Protocol-Version` header** |

**Implementation required:**
1. Create new `StreamableHttpEndpoint` class
2. Handle POST for JSON-RPC messages
3. Handle GET for SSE streams
4. Implement SSE event IDs (globally unique per session)
5. Implement `Last-Event-ID` resumption
6. Implement `retry` field for polling
7. Support both request-response and notifications over SSE

**Estimated effort:** 2-3 uker (40-60 timer)

---

#### 2. SSE-based Notifications (BLOCKER for full compliance!)

**Current implementation (v1.6.0):**
```csharp
// NotificationService - WebSocket-only:
public class NotificationService : INotificationSender
{
    private readonly ConcurrentBag<WebSocket> _subscribers = new();
    
    public async Task SendNotificationAsync(NotificationMessage notification)
    {
        // Broadcasts to WebSocket subscribers only!
        foreach (var subscriber in _subscribers.Where(ws => ws.State == WebSocketState.Open))
        {
            await subscriber.SendAsync(...);
        }
    }
}
```

**MCP 2025-11-25 requirement:**
- Notifications MUST be sent over **SSE streams** (not WebSocket)
- HTTP clients open an SSE stream with `GET /mcp`
- Server sends notifications as SSE events:
  ```
  event: message
  id: 12345
  data: {"jsonrpc":"2.0","method":"notifications/tools/list_changed","params":{}}
  
  ```
- Client reconnects with `Last-Event-ID: 12345` to resume

**Implementation required:**
1. Create `SseNotificationService` to replace `NotificationService`
2. Track active SSE streams (not WebSocket connections)
3. Send notifications as SSE events
4. Implement event ID generation (globally unique)
5. Implement message replay on reconnection

**Estimated effort:** 1 uke (20 timer)

---

#### 3. Session Management (Important)

**Current implementation (v1.6.0):**
- No session tracking
- No `MCP-Session-Id` header
- Every request is stateless

**MCP 2025-11-25 requirement:**
- Server MAY assign `MCP-Session-Id` in `initialize` response header
- Client MUST include `MCP-Session-Id` in all subsequent requests
- Server MUST respond with 404 if session expired
- Client MUST re-initialize if session expired
- Client MAY send `DELETE /mcp` with `MCP-Session-Id` to terminate

**Implementation required:**
1. Create `SessionService` for session management
2. Generate cryptographically secure session IDs (GUID or JWT)
3. Return `MCP-Session-Id` header in `initialize` response
4. Validate session ID in all requests (except `initialize`)
5. Return 404 for expired sessions
6. Handle `DELETE /mcp` for session termination
7. Session expiry (configurable timeout)

**Estimated effort:** 3-5 dager (24-40 timer)

---

#### 4. Protocol Version Header (Important)

**Current implementation (v1.6.0):**
- No `MCP-Protocol-Version` header validation
- Hardcoded `"protocolVersion": "2025-06-18"`

**MCP 2025-11-25 requirement:**
- Client MUST send `MCP-Protocol-Version: 2025-11-25` header on all HTTP requests
- Server MUST validate version header
- Server MUST respond with 400 Bad Request if invalid version
- Backward compatibility: If missing header, assume `2025-03-26`

**Implementation required:**
1. Add middleware to validate `MCP-Protocol-Version` header
2. Return 400 Bad Request if invalid
3. Support backward compatibility (assume 2025-03-26 if missing)
4. Log protocol version mismatches

**Estimated effort:** 1-2 dager (8-16 timer)

---

### ğŸŸ¡ What's Changed in 2025-11-25 (Non-breaking)

#### 1. Tool Names Guidance
**New guidance (not breaking):**
- Tool names SHOULD be 1-128 characters
- SHOULD be case-sensitive
- Allowed characters: `A-Z`, `a-z`, `0-9`, `_`, `-`, `.` (dot is NEW!)
- SHOULD NOT contain spaces or commas

**Our implementation:**
- âœ… **ALREADY COMPLIANT** (v1.6.0)
- Uses regex: `^[a-zA-Z0-9_.-]{1,128}$` (dots already supported!)
- No changes needed

**Status:** âœ… **COMPLETE**

**Estimated effort:** ~~30 minutter~~ â†’ **0 minutter** (already done!)

---

#### 2. Icon Support
**Status:** âœ… **COMPLETE** (see section above for details)

---

#### 3. Structured Content & Output Schema
**New in 2025-11-25:**
- Tools can return `structuredContent` (JSON object)
- Tools can define `outputSchema` (JSON Schema)

**Our implementation (v1.6.0):**
- Tools return MCP `content` array (text/image/resource)
- No structured content support
- No output schema validation

**Status:** â³ **TODO** (v1.6.5)

**Action:** Add `structuredContent` and `outputSchema` support

**Estimated effort:** 2-3 dager (16-24 timer)

---

## ğŸ¯ Implementation Plan (v1.7.0)

### Recommended Release Strategy

**Option 1: Multiple Small Releases (RECOMMENDED)**
- v1.6.5: Minor updates (icons, tool names, etc.) - 1 uke
- v1.7.0: Streamable HTTP transport - 2-3 uker
- v1.7.5: SSE notifications - 1 uke
- v1.8.0: Optional features - 1 uke

**Option 2: Single Big Release**
- v1.7.0: Everything at once - 6-8 uker

**Recommendation:** Go with **Option 1** for lower risk and easier adoption.

---

### Phase 0: Preparation (v1.6.5) - 1 uke
**Goal:** Update existing features to 2025-11-25 minor changes

**Status:** âœ… **IN PROGRESS** (Icons support completed 16. desember 2025)

**Tasks:**
1. âœ… **DONE** - Update protocol version to `2025-11-25` (in docs only, not wire format yet)
2. âœ… **DONE** - Update tool name validator to allow dots (`.`) - Already supports dots since v1.6.0!
3. âœ… **DONE** - Add `icons` support to attributes (v1.6.5, 16. des 2025, ~1 time)
   - Created `McpIconDefinition` model
   - Added `Icon` property to McpToolAttribute, McpPromptAttribute, McpResourceAttribute
   - Updated serialization in tools/list, prompts/list, resources/list
   - Added 14 passing tests (7 IconTests + 7 CalculatorMcpServerTests)
   - Updated documentation (README.md + MCP-Protocol.md)
4. âœ… **DONE** - Add `structuredContent` and `outputSchema` to tools (v1.6.5, 17. des 2025, ~2.5 timer)
   - Added `OutputSchema` property to McpToolAttribute
   - Added helper methods: ToolResponse.SuccessWithStructured()
   - Tools can return both content[] and structuredContent
   - tools/list includes outputSchema field (when set)
   - tools/call auto-detects structured content format
   - Added 6 passing tests (4 StructuredContentTests + 2 CalculatorMcpServerTests)
   - Zero breaking changes
5. âœ… **DONE** - Error handling (v1.6.5, already implemented)
   - Existing error handling is sufficient (JSON-RPC errors + custom exceptions)
   - No changes needed
6. â³ **TODO** - Run all tests, ensure backward compatibility

**Completed so far:**
- âœ… Icons support (MCP 2025-11-25 compliant)
- âœ… Tool name validation (dots already supported)
- âœ… Structured content & output schema (MCP 2025-11-25 compliant)
- âœ… Error handling (already implemented)
- âœ… Zero breaking changes
- âœ… All 144 tests passing

**Remaining work:**
- ğŸ”œ Final testing & documentation
- ğŸ”œ Update CHANGELOG.md
- ğŸ”œ Update version numbers

**Deliverables:**
- âœ… v1.6.5 release with minor 2025-11-25 updates
- âœ… Zero breaking changes
- âœ… All 144+ tests passing

**Estimated effort:** ~~1 uke (40 timer)~~ â†’ **Revised: 4-5 timer (actual!)** 
- Icons: 1 time (16-24x raskere!)
- Structured content: 2.5 timer (8-10x raskere!)
- Error handling: 0 timer (already done!)
- Total: ~3.5 timer vs 40 timer estimert = **11x raskere!**

---

### Phase 1: Streamable HTTP Transport (v1.7.0) - 2-3 uker
**Goal:** Implement full MCP 2025-11-25 Streamable HTTP transport

**Tasks:**

#### 1.1 Core Infrastructure (1 uke)
- [ ] Create `StreamableHttpEndpoint.cs`
- [ ] Handle POST for JSON-RPC messages
- [ ] Handle GET for SSE streams
- [ ] Implement SSE event formatting
- [ ] Implement event ID generation (globally unique)
- [ ] Implement `Last-Event-ID` resumption
- [ ] Implement `retry` field for polling
- [ ] Support both short-lived and long-lived streams

#### 1.2 Session Management (3-5 dager)
- [ ] Create `SessionService.cs`
- [ ] Generate secure session IDs
- [ ] Return `MCP-Session-Id` in `initialize` response
- [ ] Validate `MCP-Session-Id` in requests
- [ ] Return 404 for expired sessions
- [ ] Handle `DELETE /mcp` for termination
- [ ] Session expiry (configurable timeout)

#### 1.3 Protocol Version Header (1-2 dager)
- [ ] Add middleware for `MCP-Protocol-Version` validation
- [ ] Return 400 for invalid versions
- [ ] Support backward compatibility (assume 2025-03-26 if missing)
- [ ] Log version mismatches

#### 1.4 Testing (3-5 dager)
- [ ] Unit tests for SSE formatting
- [ ] Integration tests for POST/GET flow
- [ ] Test resumability (`Last-Event-ID`)
- [ ] Test session management
- [ ] Test protocol version validation
- [ ] Test backward compatibility

**Deliverables:**
- âœ… v1.7.0 release with Streamable HTTP
- âœ… Backward compatible with v1.6.x
- âœ… All tests passing

**Estimated effort:** 2-3 uker (40-60 timer)

---

### Phase 2: SSE-based Notifications (v1.7.5) - 1 uke
**Goal:** Migrate notifications from WebSocket to SSE

**Tasks:**
1. [ ] Create `SseNotificationService` (replace `NotificationService`)
2. [ ] Track active SSE streams (not WebSockets)
3. [ ] Send notifications as SSE events
4. [ ] Implement event ID for notifications
5. [ ] Implement message replay on reconnection
6. [ ] Update `ToolInvoker.Notifications.cs`
7. [ ] Update example servers (NotificationMcpServer)
8. [ ] Update tests (NotificationMcpServerTests)
9. [ ] Deprecate WebSocket notifications (mark as legacy)

**Deliverables:**
- âœ… v1.7.5 release with SSE notifications
- âœ… WebSocket notifications deprecated (still work)
- âœ… Migration guide for users

**Estimated effort:** 1 uke (20 timer)

---

## ğŸ“Š Timeline & Effort Summary

| Phase | Duration | Effort (timer) | Release | Deliverables | Status |
|-------|----------|----------------|---------|--------------|--------|
| **Phase 0** | ~~1 uke~~ **â†’ 4-5 timer (actual!)** | ~~40~~ **â†’ 3.5 timer** | v1.6.5 | Minor 2025-11-25 updates | âœ… **95% COMPLETE** (Final testing pending) |
| **Phase 1** | 2-3 uker | 40-60 timer | v1.7.0 | Streamable HTTP transport | ğŸ“ Planned |
| **Phase 2** | 1 uke | 20 timer | v1.7.5 | SSE-based notifications | ğŸ“ Planned |
| **Total** | ~~**4-5 uker**~~ **â†’ 3-4 uker** | ~~**100-120 timer**~~ **â†’ 63.5-83.5 timer** | v1.7.5 | Full 2025-11-25 compliance | â³ **IN PROGRESS** |

**Note:** Phase 0 completed **11x faster** than estimated! Icons (1h vs 16-24h) + Structured content (2.5h vs 16-24h).

---

## ğŸš¨ Breaking Changes

### For Server Implementations
1. **Streamable HTTP endpoint** - Must migrate from `/rpc` + `/sse` to single `/mcp` endpoint
2. **Notification infrastructure** - Must migrate from WebSocket to SSE (v1.7.5)
3. **Session management** - Optional but recommended

### For Clients
1. **Protocol version header** - Must send `MCP-Protocol-Version: 2025-11-25`
2. **SSE resumability** - Must handle `Last-Event-ID` and reconnection
3. **Session management** - Must handle `MCP-Session-Id` if server uses it

---

## ğŸ“ Migration Strategy

### v1.6.0 â†’ v1.6.5 (No breaking changes)
```csharp
// No code changes required!
// Just update NuGet package:
dotnet add package Mcp.Gateway.Tools --version 1.6.5
```

### v1.6.5 â†’ v1.7.0 (Breaking: Transport)
```csharp
// v1.6.x (Old):
app.MapHttpRpcEndpoint("/rpc");
app.MapWsRpcEndpoint("/ws");
app.MapSseRpcEndpoint("/sse");

// v1.7.0 (New):
app.MapStreamableHttpEndpoint("/mcp");  // Single endpoint (POST + GET)
app.MapWsRpcEndpoint("/ws");            // Keep for backward compat
// /rpc and /sse are DEPRECATED (still work, but warn)
```

### v1.7.0 â†’ v1.7.5 (Breaking: Notifications)
```csharp
// v1.7.0 (Old - WebSocket):
// INotificationSender still works, but uses WebSocket

// v1.7.5 (New - SSE):
// INotificationSender now uses SSE by default
// WebSocket notifications deprecated (still work with warning)
```

---

## ğŸ¯ Success Criteria

### Must Have (v1.7.5):
- âœ… Streamable HTTP transport (POST + GET on single endpoint)
- âœ… SSE event IDs and `Last-Event-ID` resumption
- âœ… Session management (`MCP-Session-Id`)
- âœ… Protocol version header (`MCP-Protocol-Version`)
- âœ… SSE-based notifications (replace WebSocket)
- âœ… All existing tests pass
- âœ… Zero regression

### Nice to Have (v1.8.0+):
- ğŸ”œ Resource templates
- ğŸ”œ Completion API
- ğŸ”œ Enhanced error handling
- ğŸ”œ Performance optimizations

---

## ğŸ“š References

### MCP Specification 2025-11-25
- **Changelog:** https://modelcontextprotocol.io/specification/2025-11-25/changelog
- **Transports:** https://modelcontextprotocol.io/specification/2025-11-25/basic/transports
- **Lifecycle:** https://modelcontextprotocol.io/specification/2025-11-25/basic/lifecycle
- **Tools:** https://modelcontextprotocol.io/specification/2025-11-25/server/tools
- **Prompts:** https://modelcontextprotocol.io/specification/2025-11-25/server/prompts
- **Resources:** https://modelcontextprotocol.io/specification/2025-11-25/server/resources
- **Pagination:** https://modelcontextprotocol.io/specification/2025-11-25/server/utilities/pagination

---

## ğŸš€ Next Steps

1. **Review this document** - Get team feedback
2. **Create GitHub issues** - One per phase
3. **Start Phase 0 (v1.6.5)** - Minor updates (1 uke)
4. **Design Streamable HTTP** - Architecture document
5. **Prototype** - SSE with event IDs
6. **Community feedback** - Before major changes

---

## ğŸ”§ Gateway-Specific Extensions (UNCHANGED!)

### Binary Streaming (100% Preserved)

**MCP 2025-11-25 does NOT support binary streaming.**  
Gateway has its own custom binary streaming protocol (v1.0) - **this stays untouched!**

#### What We Keep:
```csharp
// Gateway-to-Gateway binary streaming (UNCHANGED):
app.MapWsRpcEndpoint("/ws");  // WebSocket endpoint

// Binary streaming tools (UNCHANGED):
[McpTool("system_binary_streams_duplex",
    Capabilities = ToolCapabilities.BinaryStreaming | ToolCapabilities.RequiresWebSocket)]
public async Task DuplexStream(ToolConnector connector)
{
    // Gateway streaming protocol v1.0
    using var handle = (ToolConnector.BinaryStreamHandle)connector.OpenDuplex(...);
    await handle.WriteAsync(binaryData);
    var response = await handle.ReadAsync();
}
```

#### Transport Architecture (v1.7.0+):
```csharp
// MCP 2025-11-25 compliant (NEW):
app.MapStreamableHttpEndpoint("/mcp");  // POST + GET (SSE)
// â†’ For standard MCP clients (GitHub Copilot, Claude Desktop)
// â†’ SSE for text-based notifications
// â†’ Session management
// â†’ Protocol version validation

// Gateway-specific binary streaming (UNCHANGED):
app.MapWsRpcEndpoint("/ws");  // WebSocket
// â†’ For Gateway-to-Gateway communication
// â†’ Binary streaming support (ToolConnector)
// â†’ Full-duplex communication
// â†’ Custom streaming protocol v1.0 (24-byte header, etc.)
// â†’ 100% preserved, zero changes!

// Deprecated (still work, but warn in v1.7.0):
app.MapHttpRpcEndpoint("/rpc");  // Old HTTP POST-only
app.MapSseRpcEndpoint("/sse");   // Old SSE-only
```

#### Transport Filtering (Unchanged):
```csharp
// v1.2.0 transport capabilities (still enforced!):
HTTP/stdio â†’ Standard tools only
SSE â†’ Standard + TextStreaming tools
WebSocket â†’ ALL tools (including BinaryStreaming)  // â† UNCHANGED!
```

**Key point:** Binary streaming tools are **only available over `/ws`** (WebSocket).  
They will **not be visible** over `/mcp` (Streamable HTTP/SSE).

---

## ğŸ—ï¸ Architecture Flexibility

### Current State (v1.6.0)
- Tools, Prompts, Resources all use `ToolService` (single class, partial files)
- `ToolInvoker` handles all three types (Tools, Prompts, Resources)
- Shared infrastructure (attributes, models, DI)

### Concerns
- Coupling between Tools/Prompts/Resources
- Hard to evolve independently
- Refactoring one affects all

### Options for v1.7.0+

**Option A: Keep Current Architecture (LOW RISK)**
- Continue with `ToolService` + `ToolInvoker` pattern
- Add new features incrementally
- âœ… Pros: No refactoring, faster to ship
- âŒ Cons: Coupling remains

**Option B: Separate Services (MEDIUM RISK)**
```csharp
// v1.7.0+ (if we refactor):
builder.Services.AddToolService();      // Tools only
builder.Services.AddPromptService();    // Prompts only
builder.Services.AddResourceService();  // Resources only
builder.Services.AddNotificationService();  // Notifications
```
- âœ… Pros: Better separation, easier to evolve
- âŒ Cons: Breaking change, more refactoring

**Option C: Hybrid (RECOMMENDED for v1.7.0)**
- Keep `ToolService` for backward compatibility
- Introduce new services internally (hidden from users)
- Gradual migration over v1.7.x â†’ v2.0
- âœ… Pros: Zero breaking changes, clean internals
- âœ… Cons: Minimal extra work

**Decision:** We have **full freedom** to refactor in v1.7.0+.  
Current usage is low (477 NuGet downloads), so breaking changes are acceptable if well-documented.

---

## ğŸ“Š Project Status & Timeline

### Current Status
- **GitHub Stars:** 0 (not announced yet)
- **NuGet Downloads:** 477 total
- **Usage:** Internal + early adopters
- **Maturity:** Production-ready but not widely adopted

### Release Cadence
**No pressure to release frequently!**
- v1.6.0 â†’ v1.7.0: Can take 3-4 mÃ¥neder (no rush)
- Focus on quality over speed
- Get feedback from early adopters
- Test thoroughly before major releases

### Recommended Approach
1. **v1.6.5** (Januar): Quick wins, low risk
2. **v1.7.0-alpha** (Februar): Streamable HTTP prototype, get feedback
3. **v1.7.0-beta** (Mars): SSE notifications, test with users
4. **v1.7.0** (April): Stable release after testing
5. **v1.7.5** (Mai): Polish and fixes

**Total:** 5 mÃ¥neder from now â†’ Full 2025-11-25 compliance by Mai 2026.

---

## ğŸ¯ Key Decisions Summary

### 1. Binary Streaming
**Decision:** Keep Gateway-specific binary streaming (WebSocket) untouched.  
**Rationale:** MCP spec doesn't support binary streaming; this is our unique feature.

### 2. Architecture
**Decision:** We have freedom to refactor (low adoption, no announcement yet).  
**Recommendation:** Hybrid approach - keep API surface, refactor internals.

### 3. Release Strategy
**Decision:** Multiple small releases over 5 mÃ¥neder (no rush).  
**Rationale:** Low adoption = low pressure, focus on quality.

### 4. Notifications
**Decision:** Deprecate WebSocket notifications in v1.7.5, keep for backward compat.  
**Rationale:** MCP 2025-11-25 requires SSE, but we support both temporarily.

### 5. Timeline
**Decision:** Aim for v1.7.0 stable by April 2026 (no aggressive deadline).  
**Rationale:** Quality > Speed, test with early adopters first.

---

**Status:** ğŸ“ Planning Complete  
**Ready for:** Team Review & Approval  
**Est. Start:** Januar 2026  
**Est. v1.7.0 Stable:** April-Mai 2026  
**Flexibility:** High (low adoption, not announced)

---

**Created by:** ARKo AS - AHelse Development Team  
**Last Updated:** 16. desember 2025  
**Version:** 1.1 (Added Gateway-specific context + Architecture flexibility)
